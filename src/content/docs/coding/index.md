---
title: 開発のためのドキュメント
---

ここでは、あしたぼコマ表の開発を進めるための基本的な方法について説明します。

## Gitの使い方

チーム開発では Git の理解が不可欠です。まずは Git の基本的な使い方から始めましょう。

### ブランチについて

VS Code の左側にあるソース管理タブ（三つの丸が繋がったアイコン）で、Git の変更履歴を確認したり、ブランチを操作したりできます。

![ソース管理タブ](/assets/images/coding/git-source-control-tab.png)

まず、画面下部のステータスバーに表示されている現在のブランチ名（最初は `main` かもしれません）をクリックします。

![ブランチ切り替え](/assets/images/coding/cording-01.png)

ブランチとは、同じリポジトリ（プロジェクトのファイル群）内で、元のコードに影響を与えずに、同時に複数の変更作業を進めるための仕組みです。

ブランチ名をクリックすると、利用可能なブランチの一覧が表示されます。通常、開発作業は `develop-main` ブランチで行います。リストから `develop-main` を選択してクリックしましょう。（もし表示されていない場合は、ソース管理タブ右上の「…」メニューから「ソース管理リポジトリ」にチェックが入っているか確認してください。）

![develop-mainブランチ選択](/assets/images/coding/cording-02.png)

これで、作業ブランチが `develop-main` に切り替わりました。
開発では、基本的にこの `develop-main` ブランチに変更を加えていきます。機能がある程度完成したら、`main` ブランチに変更内容を反映させる「マージ」という操作を行います。

**注意:** `main` ブランチは本番環境に直接反映されるため、**基本的に直接変更を加えないでください。** 開発は必ず `develop-main` ブランチ、または後述する作業用ブランチで行いましょう。

### コミットとプッシュ

Git で変更を記録し、リモートリポジトリ（GitHub 上の共有リポジトリ）に反映させるには、「コミット」と「プッシュ」という操作を行います。

**開発を始める前の準備:**

1.  **ブランチ確認:** まず、現在のブランチが `develop-main` であることを確認してください。
2.  **プル (同期):** 次に、ソース管理タブにある同期ボタン（リサイクルマークのような二本の矢印）をクリックして「プル」操作を行います。これにより、GitHub 上にある他のメンバーが行った最新の変更を、自分のローカル環境に取り込むことができます。
    **このプル操作は、開発作業を開始する際に必ず行いましょう。** また、開発中もこまめに行うことを推奨します。

**変更の記録手順:**

1.  **ファイルの変更:** まずは練習として、適当な場所に `a.txt` というファイルを作成し、何か内容を書いて保存（Ctrl+S）してみましょう。
2.  **変更の確認:** ファイルを保存すると、ソース管理タブのアイコンに数字（変更されたファイル数）が表示されます。タブを開くと、変更されたファイルの一覧が表示されます。

    ![変更リスト](/assets/images/coding/git-changes-list.png)
3.  **ステージング:** 「変更」セクションに表示されているファイルにカーソルを合わせると「+」ボタンが表示されます。これをクリックすると、変更内容が「ステージ」されます。ステージングとは、「この変更内容をコミット（記録）の対象にします」という意思表示です。ファイルごと、または「変更」セクション全体の変更をステージできます。
4.  **コミットメッセージの入力:** 変更をステージすると、「コミット」ボタンが有効になります。その上にあるメッセージボックスに、どのような変更を行ったかを示す簡潔な「コミットメッセージ」を入力します。例えば、「a.txt を追加」や「テスト用のコミット」のように、変更内容がわかるように記述してください。（不適切なメッセージは避けましょう。）
5.  **コミットとプッシュ:** コミットメッセージを入力したら、「コミット」ボタンの隣にある下矢印をクリックし、「コミットしてプッシュ」を選択します。これにより、ステージされた変更がローカルリポジトリに記録（コミット）され、さらに GitHub 上のリモートリポジトリに変更内容が送信（プッシュ）されます。他のメンバーがプル操作を行えば、あなたの変更が彼らの環境にも反映されます。

もし、コミットやプッシュの際にエラーが発生した場合は、エラーメッセージと状況をスクリーンショットなどで記録し、担当者（わたべ）に連絡してください。

### 実際の開発フロー: ブランチの活用

通常、実際の開発では `develop-main` ブランチから直接作業するのではなく、特定の機能開発やバグ修正ごとに新しい「作業用ブランチ」を作成し、そこで作業を進めます。

**ブランチ作成の目的:**

-   複数の開発作業を並行して進められる。
-   `develop-main` ブランチを常に安定した状態に保てる。
-   変更内容をレビューしやすくなる（プルリクエスト）。

**ブランチの作成手順:**

1.  **基点ブランチの確認:** まず、`develop-main` ブランチにいることを確認します。
2.  **ブランチ作成:** ソース管理タブのブランチ名が表示されている部分をクリックし、「ブランチ」>「ブランチの作成」を選択します。

    ![ブランチ作成メニュー](/assets/images/coding/cording-03.png)
3.  **ブランチ名の入力:** ブランチ名を入力するフォームが表示されます。ブランチ名は、どのような作業を行うブランチか分かりやすいように命名します。

    **命名規則の例:**

    -   機能追加: `feature/機能名` (例: `feature/admin-login-form`)
    -   バグ修正・機能修正: `fix/修正内容` (例: `fix/booking-table-design`)
    -   単語間はハイフン `-` で繋ぐ。
    -   簡潔な英単語で表現する。

    （スラッシュ `/` がハイフン `-` に自動変換される場合がありますが、問題ありません。）

    入力したら Enter キーを押すと、新しいブランチが作成され、そのブランチに自動的に切り替わります。

**作業用ブランチでの開発:**

1.  **開発作業:** 作成した作業用ブランチで、コードの変更や追加を行います。
2.  **コミット＆プッシュ:** 作業の区切りが良いところで、前述の手順でコミットとプッシュを行います。作業用ブランチには何度コミットしても構いません。

**プルリクエストによるマージ:**

作業用ブランチでの開発が完了したら、その変更内容を `develop-main` ブランチに反映させるために「プルリクエスト」を作成します。

1.  **GitHub へアクセス:** ブラウザで、あしたぼコマ表の GitHub リポジトリ ([https://github.com/watabegg/k_on_line](https://github.com/watabegg/k_on_line)) を開きます。
2.  **Pull requests タブ:** ページ上部のメニューから「Pull requests」タブをクリックします。
3.  **プルリクエスト作成:**
    -   ページ上部に自分の作業用ブランチ名が表示され、「Compare & pull request」ボタンが表示されている場合は、それをクリックします。
    -   表示されていない場合は、右側にある緑色の「New pull request」ボタンをクリックします。

    ![プルリクエストボタン](/assets/images/coding/git-compare-pr-button.png)
4.  **比較ブランチの設定:** プルリクエスト作成画面が表示されます。ここで、変更を取り込む先のブランチ（`base`）と、変更元のブランチ（`compare`）を指定します。
    -   `base` ブランチが `main` になっている場合は、必ず `develop-main` に変更してください。
    -   `compare` ブランチには、自分の作業用ブランチを選択します。

    ![プルリクエスト作成フォーム](/assets/images/coding/git-pr-creation-form.png)
    ![ベースブランチ変更](/assets/images/coding/cording-04.png)
5.  **プルリクエストの作成:** `base` が `develop-main`、`compare` が自分の作業用ブランチになっていることを確認したら、ページ下部にある緑色の「Create pull request」ボタンをクリックします。（タイトルや説明は任意ですが、変更内容がわかるように記述すると親切です。）
6.  **レビュー依頼:** プルリクエストが作成されると、変更内容を確認できるページが表示されます。

    ![作成されたプルリクエスト](/assets/images/coding/git-created-pr-page.png)

    このページの URL をコピーし、Discord の「プルリク部屋」チャンネルに投稿して、レビューとマージを依頼してください。担当者（わたべ）が内容を確認し、問題がなければ `develop-main` ブランチにマージします。

**コンフリクトについて:**

まれに、他の人の変更と自分の変更が競合（コンフリクト）し、プルリクエストが自動でマージできない場合があります。その場合は、プルリクエスト作成時にエラーが表示されます。コンフリクトが発生した場合は、無理に解決しようとせず、担当者（わたべ）に連絡してください。

---

このように、ブランチを作成し、プルリクエストを通じて変更をマージしていくのが基本的な開発フローです。

これで Git の基本的な使い方の説明は終わりです。次は React の基本について学びましょう。
